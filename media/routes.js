function mkRoute(e,t,n,o,l=!1){for(var d of n.entries())t.has(d[0])||t.append(d[0],d[1]);var p="";if(l){var a=window.location.hash.substr(1);""!=a&&"!"!=a&&(p="#"+a)}var v=t.toString();o("/"+e+(v.length>0?"?"+v:"")+p)}function getRoute(e,t,n){rt=(rt=(rt=e.split(/\/+/i)).map(e=>e.trim())).filter(e=>e.length>0&&""!=e);var o=new URLSearchParams(t),l=null,d=new URLSearchParams;if(2==rt.length&&"videos"==rt[0])l="videos",d.append("v",rt[1]),mkRoute(l,d,o,n);else if(3==rt.length&&"videos"==rt[0]&&"unblocked"==rt[2])l="videos",d.append("v",rt[1]),d.append("e","unblocked"),mkRoute(l,d,o,n);else if(3==rt.length&&"videos"==rt[0]&&/^\d+$/.test(rt[2]))l="videos",d.append("v",rt[1]),d.append("p",rt[2]),mkRoute(l,d,o,n);else if(4==rt.length&&"videos"==rt[0]&&/^\d+$/.test(rt[2])&&"unblocked"==rt[3])l="videos",d.append("v",rt[1]),d.append("p",rt[2]),d.append("e","unblocked"),mkRoute(l,d,o,n);else if(1==rt.length&&"watch"==rt[0]&&null!=o.get("v")){var p=o.get("v");o.delete("v"),l="videos",d.append("v",p),mkRoute(l,d,o,n)}else if(1==rt.length&&"deadmau5"==rt[0]&&null!=o.get("vod")){l="videos";var a=o.get("vod");d.append("v",a),o.delete("vod"),mkRoute(l,d,o,n)}else 1==rt.length&&"chat_mixer"==rt[0]?mkRoute("chat",d,o,n):1==rt.length&&"all"==rt[0]?(d.append("p","all"),mkRoute("page",d,o,n)):rt.length>1&&"page"==rt[0]?(d.append("p",1),mkRoute("page",d,o,n)):1==rt.length&&"version_history.html"==rt[0]?mkRoute("version_history",d,o,n,!0):rt.length>=2&&"v"==rt[0]?(l="videos",d.append("v",rt[1]),mkRoute(l,d,o,n)):rt.length>=1?(l="videos",d.append("v",rt[0]),mkRoute(l,d,o,n)):n(null)}