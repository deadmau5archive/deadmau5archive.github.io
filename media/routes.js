function ytrlut(t,l){load("/ytrlut.txt",function(r){if(t in r.lut){var n=r.lut[t];n<r.videos.length&&l(r.videos[n])}})}function getRoute(t,l,r){rt=t.split(/\/+/i),rt=rt.map(t=>t.trim()),rt=rt.filter(t=>t.length>0&&""!=t);var n=new URLSearchParams(l),e=null,u=new URLSearchParams,a=function(t,l,n){for(var e of n.entries())l.has(e[0])||l.append(e[0],e[1]);var u=l.toString(),a=t+(u.length>0?"?"+u:"");r(a)};1==rt.length&&"watch"==rt[0]&&null!=n.get("v")?ytrlut(n.get("v"),t=>{null!=t?(e="videos/"+t,n.delete("v"),a(e,u,n)):r(null)}):rt.length>=1&&/^[a-zA-Z0-9-_]{11}$/.test(rt[0])?ytrlut(rt[0],t=>{null!=t?a(e="videos/"+t,u,n):r(null)}):r(null)}