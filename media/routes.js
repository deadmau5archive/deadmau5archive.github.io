function ytrlut(e,t){load("/data/ytrlut.json",function(l){if(e in l.lut){var n=l.lut[e];n<l.videos.length?t(l.videos[n]):t(null)}else getReverseVideo(e,e=>{null!=e.video?t(e.video):t(null)})})}function ytRoute(e,t,l,n){ytrlut(e.trim(),e=>{if(null!=e){var o=e.split("/");t.append("v",o[0]),o.length>=2&&t.append("p",o[1]),mkRoute("videos",t,l,n)}else n(null)})}function mkRoute(e,t,l,n,o=!1){for(var i of l.entries())t.has(i[0])||t.append(i[0],i[1]);var d="";if(o){var a=window.location.hash.substr(1);""!=a&&"!"!=a&&(d="#"+a)}var u=t.toString();n("/"+e+(u.length>0?"?"+u:"")+d)}function getRoute(e,t,l){rt=(rt=(rt=e.split(/\/+/i)).map(e=>e.trim())).filter(e=>e.length>0&&""!=e);var n=new URLSearchParams(t),o=null,i=new URLSearchParams;if(2==rt.length&&"videos"==rt[0])o="videos",i.append("v",rt[1]),mkRoute(o,i,n,l);else if(3==rt.length&&"videos"==rt[0]&&"unblocked"==rt[2])o="videos",i.append("v",rt[1]),i.append("e","unblocked"),mkRoute(o,i,n,l);else if(3==rt.length&&"videos"==rt[0]&&/^\d+$/.test(rt[2]))o="videos",i.append("v",rt[1]),i.append("p",rt[2]),mkRoute(o,i,n,l);else if(4==rt.length&&"videos"==rt[0]&&/^\d+$/.test(rt[2])&&"unblocked"==rt[3])o="videos",i.append("v",rt[1]),i.append("p",rt[2]),i.append("e","unblocked"),mkRoute(o,i,n,l);else if(1==rt.length&&"watch"==rt[0]&&null!=n.get("v")){var d=n.get("v");n.delete("v"),ytRoute(d,i,n,l)}else if(rt.length>=1&&/^[a-zA-Z0-9-_]{11}$/.test(rt[0]))ytRoute(rt[0],i,n,l);else if(1==rt.length&&"deadmau5"==rt[0]&&null!=n.get("vod")){o="videos";var a=n.get("vod");i.append("v",a),n.delete("vod"),mkRoute(o,i,n,l)}else 1==rt.length&&"chat_mixer"==rt[0]?mkRoute("chat",i,n,l):1==rt.length&&"all"==rt[0]?(i.append("p","all"),mkRoute("page",i,n,l)):rt.length>1&&"page"==rt[0]?(i.append("p",1),mkRoute("page",i,n,l)):1==rt.length&&"version_history.html"==rt[0]?mkRoute("version_history",i,n,l,!0):l(null)}