class CustomPlayer{playerFrame;elemId;playerCfg;duration=null;playbackPos=null;readyEvent;constructor(e,t){this.elemId=e,this.playerCfg=t;var a=document.createElement("iframe");a.setAttribute("src","/videos/cplayer.html"),a.setAttribute("allowFullScreen",""),a.style.width="100%",a.style.height="100%",a.frameBorder=0,document.getElementById(e).appendChild(a),"ready"in t&&(this.readyEvent=t.ready,delete t.ready),a.onload=function(){a.contentWindow.postMessage({type:"init",data:t})};var r=this;window.addEventListener("message",function(e){e.source===a.contentWindow&&"type"in e.data&&("duration"==e.data.type?(r.duration=e.data.data,r.readyEvent&&r.readyEvent()):"timeupdate"==e.data.type&&(r.playbackPos=e.data.data))}),this.playerFrame=a}getDuration(){return this.duration}getPlaybackPos(){return null==this.playbackPos?0:this.playbackPos}skipTo(e){this.playerFrame.contentWindow.postMessage({type:"seek",data:e})}}function createCustomPlayer(e,t){return new CustomPlayer(e,t)}